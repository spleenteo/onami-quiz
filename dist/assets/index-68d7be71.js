import{r as e,a,R as n}from"./vendor-324528e4.js";import{T as i,G as t,a as r,U as s,S as o,C as m,b as l,R as c,c as d}from"./lucide-c8299df5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)}).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();var g={exports:{}},u={},x=e,h=Symbol.for("react.element"),p=Symbol.for("react.fragment"),b=Object.prototype.hasOwnProperty,f=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,j={key:!0,ref:!0,__self:!0,__source:!0};function v(e,a,n){var i,t={},r=null,s=null;for(i in void 0!==n&&(r=""+n),void 0!==a.key&&(r=""+a.key),void 0!==a.ref&&(s=a.ref),a)b.call(a,i)&&!j.hasOwnProperty(i)&&(t[i]=a[i]);if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===t[i]&&(t[i]=a[i]);return{$$typeof:h,type:e,key:r,ref:s,props:t,_owner:f.current}}u.Fragment=p,u.jsx=v,u.jsxs=v,g.exports=u;var N=g.exports,y={},w=a;y.createRoot=w.createRoot,y.hydrateRoot=w.hydrateRoot;const S=()=>{const[a,n]=e.useState("welcome"),[g,u]=e.useState(()=>localStorage.getItem("karateQuizPlayerName")||""),[x,h]=e.useState(0),[p,b]=e.useState(0),[f,j]=e.useState([]),[v,y]=e.useState(null),[w,S]=e.useState(!1),[k,z]=e.useState(15),[C,P]=e.useState([]),[M,T]=e.useState(0),[K,A]=e.useState(0),[O,I]=e.useState(0),[D,H]=e.useState({questions:[],answers:[],startTime:null,duration:0}),[L,R]=e.useState(!1),[B,G]=e.useState(null),[E,F]=e.useState(()=>{const e=localStorage.getItem("karateQuizPersonalBest");return e?JSON.parse(e):null}),[U,_]=e.useState(!1),q=[{term:"Age",meaning:"Sollevare, levare alto"},{term:"Age tsuki",meaning:"Colpo di pugno crescente"},{term:"Age empi uchi",meaning:"Colpo di gomito verso l'alto"},{term:"Age uke",meaning:"Parata crescente"},{term:"Ago",meaning:"Mento"},{term:"Ai",meaning:"Armonia"},{term:"Aikido",meaning:"Via dell'armonia con l'energia universale"},{term:"Arigato",meaning:"Grazie"},{term:"Ashi",meaning:"Piede"},{term:"Ashi barai",meaning:"Spazzata di piede"},{term:"Ashi waza",meaning:"Tecniche di piede"},{term:"Ashibo",meaning:"Tibia"},{term:"Ashikubi",meaning:"Caviglia"},{term:"Atama",meaning:"Testa"},{term:"Ate",meaning:"Percossa"},{term:"Awase",meaning:"Coordinazione, armonizzazione"},{term:"Barai",meaning:"Spazzare, parare spazzando, falciare"},{term:"Bassai",meaning:"Penetrare la fortezza"},{term:"Bo",meaning:"Bastone di legno lungo circa 180 cm"},{term:"Bokken",meaning:"Spada di legno"},{term:"Bu",meaning:"Marziale, guerriero"},{term:"Budo",meaning:"La Via marziale"},{term:"Bunkai",meaning:"Applicazione pratica di un kata"},{term:"Bushi",meaning:"Nobile guerriero"},{term:"Bushido",meaning:"La Via del guerriero"},{term:"Chi",meaning:"Terra"},{term:"Chikai",meaning:"Vicino"},{term:"Chikara",meaning:"Forza"},{term:"Choku tsuki",meaning:"Pugno diritto"},{term:"Chu",meaning:"Medio"},{term:"Chudan",meaning:"Livello medio"},{term:"Chudan geri",meaning:"Calcio a livello medio"},{term:"Chudan tsuki",meaning:"Colpo di pugno medio"},{term:"Dachi",meaning:"Posizione del corpo"},{term:"Dai",meaning:"Grande"},{term:"Dan",meaning:"Livello, grado di cintura nera"},{term:"Deshi",meaning:"Discepolo, studente"},{term:"Do",meaning:"Via, cammino"},{term:"Dojo",meaning:"Luogo dove si cerca la via"},{term:"Empi",meaning:"Gomito"},{term:"Empi uchi",meaning:"Percossa col gomito"},{term:"En",meaning:"Lontano"},{term:"Ensho",meaning:"Tallone"},{term:"Fudo",meaning:"Immobile, immutabile"},{term:"Fudo dachi",meaning:"Posizione consolidata"},{term:"Fumikiri",meaning:"Calcio tagliente"},{term:"Fumikomi",meaning:"Calcio battente"},{term:"Geri",meaning:"Calcio"},{term:"Gi",meaning:"Uniforme"},{term:"Go",meaning:"Cinque, forza"},{term:"Gohon kumite",meaning:"Combattimento su cinque attacchi"},{term:"Goju ryu",meaning:"Stile di Karate creato da Miyagi Chojun"},{term:"Goshin",meaning:"Autodifesa"},{term:"Gyaku",meaning:"Opposto, contrario"},{term:"Gyaku tsuki",meaning:"Colpo di pugno opposto alla gamba avanzata"},{term:"Hachi",meaning:"Otto"},{term:"Hachiji dachi",meaning:"Posizione naturale eretta"},{term:"Hai",meaning:"SÃ¬"},{term:"Haishu",meaning:"Dorso della mano"},{term:"Haisoku",meaning:"Collo del piede"},{term:"Haito",meaning:"Taglio interno della mano"},{term:"Hajime",meaning:"Cominciare, partire"},{term:"Hangetsu",meaning:"Mezza luna"},{term:"Hanmi",meaning:"Posizione semifrontale"},{term:"Hara",meaning:"Ventre, addome"},{term:"Harai",meaning:"Spazzare, parare spazzando"},{term:"Heian",meaning:"Mente pacifica"},{term:"Heiko",meaning:"Parallelo"},{term:"Heiko dachi",meaning:"Posizione a piedi paralleli"},{term:"Hidari",meaning:"Sinistra"},{term:"Hiji",meaning:"Gomito"},{term:"Hiki",meaning:"Tirare"},{term:"Hikite",meaning:"Richiamo della mano"},{term:"Hiraken",meaning:"Pugno con le falangette piegate"},{term:"Hitai",meaning:"Fronte"},{term:"Hiza",meaning:"Ginocchio"},{term:"Hiza geri",meaning:"Colpo di ginocchio"},{term:"Hon",meaning:"Fondamentale"},{term:"Ichi",meaning:"Uno"},{term:"Ikken hissatsu",meaning:"Uccidere con un colpo solo"},{term:"Ippon",meaning:"Uno solo, punto pieno"},{term:"Ippon kumite",meaning:"Combattimento ad un attacco"},{term:"Jiyu kumite",meaning:"Combattimento libero"},{term:"Jo",meaning:"Alto, bastone di legno 120-140 cm"},{term:"Jodan",meaning:"Livello alto"},{term:"Jodan tsuki",meaning:"Colpo di pugno a livello alto"},{term:"Ju",meaning:"Dieci, cedevolezza"},{term:"Judo",meaning:"Via della cedevolezza"},{term:"Juji",meaning:"Incrociare, croce"},{term:"Juji uke",meaning:"Parata a croce"},{term:"Kagi tsuki",meaning:"Pugno a gancio"},{term:"Kakato",meaning:"Tallone"},{term:"Kake",meaning:"Aggancio, gancio"},{term:"Kakuto",meaning:"Polso piegato a testa di gru"},{term:"Kama",meaning:"Piccola falce per tagliare il riso"},{term:"Kamae",meaning:"Guardia"},{term:"Kami",meaning:"Dei"},{term:"Kanku",meaning:"Osservando il cielo"},{term:"Kao",meaning:"Faccia, viso"},{term:"Kara",meaning:"Vuoto"},{term:"Karada",meaning:"Corpo"},{term:"Karate",meaning:"Mano vuota"},{term:"Karate do",meaning:"La via della mano vuota"},{term:"Kata",meaning:"Forma, modello, esercizio di stile"},{term:"Katana",meaning:"Spada lunga dei Samurai"},{term:"Keage",meaning:"Frustato, di slancio"},{term:"Keiko",meaning:"Allenamento"},{term:"Kekomi",meaning:"Penetrante, di spinta"},{term:"Ken",meaning:"Spada, pugno"},{term:"Kendo",meaning:"Via della spada"},{term:"Keri",meaning:"Calcio"},{term:"Ki",meaning:"Energia universale, energia vitale"},{term:"Kiai",meaning:"Unione di energia"},{term:"Kiba dachi",meaning:"Posizione del cavaliere"},{term:"Kihon",meaning:"Fondamentali"},{term:"Kime",meaning:"Massima concentrazione di energia"},{term:"Kiri",meaning:"Fendente, tagliente"},{term:"Kiru",meaning:"Tagliare, fendere"},{term:"Kizami tsuki",meaning:"Pugno frontale improvviso"},{term:"Ko",meaning:"Piccolo, dorso del pugno"},{term:"Kobudo",meaning:"Antiche arti marziali"},{term:"Kobushi",meaning:"Pugno normale"},{term:"Kokoro",meaning:"Cuore, spirito, anima"},{term:"Kokutsu dachi",meaning:"Posizione di guardia arretrata"},{term:"Kosa",meaning:"Croce o incrociare"},{term:"Koshi",meaning:"Anca, fianco"},{term:"Kote",meaning:"Polso"},{term:"Ku",meaning:"Nove, vuoto"},{term:"Kubi",meaning:"Collo"},{term:"Kumite",meaning:"Combattimento"},{term:"Kyu",meaning:"Classe, grado inferiore"},{term:"Kyudo",meaning:"La via dell'arco"},{term:"Ma",meaning:"Distanza giusta di combattimento"},{term:"Mae",meaning:"Frontale, in avanti"},{term:"Mae geri",meaning:"Calcio frontale"},{term:"Makiwara",meaning:"Bersaglio elastico per allenare"},{term:"Mawashi",meaning:"Circolare"},{term:"Mawashi geri",meaning:"Calcio circolare"},{term:"Me",meaning:"Occhio"},{term:"Michi",meaning:"Via, itinerario"},{term:"Migi",meaning:"Destra"},{term:"Mikazuki geri",meaning:"Calcio a luna crescente"},{term:"Mimi",meaning:"Orecchio"},{term:"Mokuso",meaning:"Pensare in silenzio"},{term:"Morote",meaning:"Due mani"},{term:"Mune",meaning:"Torace, petto"},{term:"Mushin",meaning:"Mente senza mente"},{term:"Musubi dachi",meaning:"Posizione a talloni uniti"},{term:"Nagashi",meaning:"Deviare, fluire"},{term:"Naginata",meaning:"Alabarda giapponese"},{term:"Naore",meaning:"Ritornare in Yoi"},{term:"Neko ashi dachi",meaning:"Posizione del gatto"},{term:"Ni",meaning:"Due"},{term:"Nidan",meaning:"Secondo grado"},{term:"Nukite",meaning:"Mano a lancia"},{term:"Nunchaku",meaning:"Arma con due bastoni uniti"},{term:"O",meaning:"Grande"},{term:"Obi",meaning:"Cintura"},{term:"Oi tsuki",meaning:"Pugno che prosegue"},{term:"Okinawa te",meaning:"Mano di Okinawa"},{term:"Osae",meaning:"Pressante"},{term:"Otoshi",meaning:"Spingere verso il basso"},{term:"Rei",meaning:"Saluto"},{term:"Ren",meaning:"Combinare, collegare"},{term:"Renoji dachi",meaning:"Posizione a L"},{term:"Ryu",meaning:"Stile o scuola"},{term:"Sabaki",meaning:"Schivare"},{term:"Sai",meaning:"Stiletto in ferro del Kobudo"},{term:"Samurai",meaning:"Servitore, sinonimo di bushi"},{term:"San",meaning:"Tre"},{term:"Sanchin dachi",meaning:"Posizione a clessidra"},{term:"Sandan",meaning:"Terzo grado"},{term:"Seiken",meaning:"Pugno normale fondamentale"},{term:"Seiza",meaning:"Posizione in ginocchio"},{term:"Sen",meaning:"Iniziativa"},{term:"Sensei",meaning:"Maestro di dojo"},{term:"Shi",meaning:"Quattro, morte"},{term:"Shiho",meaning:"Nelle quattro direzioni"},{term:"Shiko dachi",meaning:"Posizione quadrata, Sumo"},{term:"Shin",meaning:"Spirito, cuore, anima"},{term:"Shisei",meaning:"Posizione"},{term:"Shito ryu",meaning:"Stile creato da Mabuni Kenwa"},{term:"Shizen tai",meaning:"Posizione naturale"},{term:"Sho",meaning:"Piccolo, primo, palmo"},{term:"Shodan",meaning:"Primo grado"},{term:"Shomen",meaning:"Di fronte, davanti"},{term:"Shotokan",meaning:"Scuola di Shoto"},{term:"Shuto",meaning:"Taglio esterno della mano"},{term:"Sokutei",meaning:"Pianta del piede"},{term:"Sokuto",meaning:"Taglio esterno del piede"},{term:"Soto",meaning:"Esterno"},{term:"Soto uke",meaning:"Parata dall'esterno verso l'interno"},{term:"Suigetsu",meaning:"Plesso solare"},{term:"Sukui",meaning:"Cucchiaio"},{term:"Sun dome",meaning:"Fermare prima del contatto"},{term:"Tai",meaning:"Corpo, attendere"},{term:"Tai sabaki",meaning:"Rotazione del corpo"},{term:"Tanden",meaning:"Basso addome"},{term:"Tatami",meaning:"Materassina"},{term:"Tate",meaning:"Verticale"},{term:"Te",meaning:"Mano"},{term:"Teiji dachi",meaning:"Posizione a T"},{term:"Teisho",meaning:"Base del palmo della mano"},{term:"Tekki",meaning:"Montando a cavallo"},{term:"Tekubi",meaning:"Polso"},{term:"Ten",meaning:"Cielo, universo"},{term:"Tettsui",meaning:"Pugno a martello"},{term:"Tobi",meaning:"Saltare"},{term:"Tobi geri",meaning:"Calcio volante"},{term:"Tsugi ashi",meaning:"Marcia successiva"},{term:"Tsuki",meaning:"Attacco diretto di pugno"},{term:"Tsumasaki",meaning:"Punta delle dita del piede"},{term:"Tsuri ashi",meaning:"Scivolamento del corpo"},{term:"Uchi",meaning:"Percossa, interno"},{term:"Uchi uke",meaning:"Parata dall'interno verso l'esterno"},{term:"Ude",meaning:"Avambraccio"},{term:"Uke",meaning:"Parata, bloccaggio"},{term:"Ukemi",meaning:"Caduta"},{term:"Ura",meaning:"Nascosto, rovescio"},{term:"Uraken",meaning:"Dorso della mano"},{term:"Ushiro",meaning:"Indietro"},{term:"Ushiro geri",meaning:"Calcio all'indietro"},{term:"Wado ryu",meaning:"Scuola della via della pace"},{term:"Waza",meaning:"Tecnica"},{term:"Wazari",meaning:"Mezzo punto"},{term:"Yame",meaning:"Arrestarsi, fermarsi"},{term:"Yoi",meaning:"Pronti, attenzione"},{term:"Yoko",meaning:"Laterale"},{term:"Yoko geri",meaning:"Calcio laterale"},{term:"Zazen",meaning:"Meditare in posizione Seiza"},{term:"Zen",meaning:"Corrente contemplativa del buddismo"},{term:"Zenkutsu dachi",meaning:"Posizione frontale"},{term:"Zuki",meaning:"Colpo diretto di pugno"}];e.useEffect(()=>{if("playing"===a&&k>0&&!w){const e=setTimeout(()=>z(k-1),1e3);return()=>clearTimeout(e)}0!==k||w||Y(null)},[k,a,w]),e.useEffect(()=>{J()},[]);const J=async()=>{try{const e=await fetch("/api/leaderboard"),a=await e.json();P(a.leaderboard||[]),G(a.stats||null)}catch(e){console.error("Errore nel caricare la classifica:",e),P([])}},Q=()=>{const e=[...q].sort(()=>Math.random()-.5).slice(0,15).map(e=>{const a=((e,a=3)=>q.filter(a=>a.meaning!==e).sort(()=>Math.random()-.5).slice(0,a).map(e=>e.meaning))(e.meaning),n=[e.meaning,...a].sort(()=>Math.random()-.5);return{term:e.term,correctAnswer:e.meaning,options:n}});j(e),H({questions:e,answers:[],startTime:Date.now(),duration:0})},V=()=>{g.trim()&&(localStorage.setItem("karateQuizPlayerName",g.trim()),Q(),n("playing"),h(0),b(0),T(0),A(0),I(0),z(15))},Y=e=>{y(e),S(!0);const a=e===f[x].correctAnswer,n={question:f[x],selectedAnswer:e,isCorrect:a,timeSpent:15-k,timestamp:Date.now()};if(H(e=>({...e,answers:[...e.answers,n],duration:Date.now()-e.startTime})),a){const e=Math.floor(k/3);b(p+(10+e+(M>=3?2*M:0))),T(M+1),A(Math.max(K,M+1)),I(O+1)}else T(0);setTimeout(()=>{x<14?(h(x+1),y(null),S(!1),z(15)):W()},2e3)},W=async()=>{n("finished"),await(async()=>{R(!0);try{const e=D.duration>0?D.duration/15:0,a=await fetch("/api/save-score",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerName:g,score:p,questionsAnswered:15,correctAnswers:O,avgTimePerQuestion:e,maxStreak:K,gameSession:{questions:D.questions,answers:D.answers,duration:D.duration}})}),n=await a.json();if(n.success&&(P(n.leaderboard||[]),!E||p>E.score)){const e={score:p,correctAnswers:O,maxStreak:K,date:(new Date).toISOString()};F(e),localStorage.setItem("karateQuizPersonalBest",JSON.stringify(e))}}catch(e){console.error("Errore nel salvare il punteggio:",e)}finally{R(!1)}})()},Z=()=>{n("welcome"),u(""),h(0),b(0),T(0),A(0),I(0),y(null),S(!1),z(15),H({questions:[],answers:[],startTime:null,duration:0})};if("welcome"===a)return N.jsx("div",{className:"min-h-screen bg-onami-light",children:N.jsxs("div",{className:"container mx-auto px-4 py-8",children:[N.jsxs("div",{className:"text-center mb-8 animate-fadeInUp",children:[N.jsxs("div",{className:"inline-flex items-center gap-3 mb-4",children:[N.jsx("div",{className:"w-16 h-16 bg-onami-gradient rounded-full flex items-center justify-center shadow-lg hover-lift",children:N.jsx("span",{className:"text-white font-bold text-2xl japanese-wave animate-wave",children:"æ³¢"})}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-blue-800",children:"O-Nami Karate Quiz"}),N.jsx("p",{className:"text-blue-600 font-medium",children:"Firenze"})]})]}),N.jsx("h2",{className:"text-2xl md:text-3xl text-blue-700 mb-2 font-semibold",children:"ã©ããããç¥ã£ã¦ãããè¦ã¦ã¿ã¾ããã"}),N.jsx("p",{className:"text-blue-600 italic text-lg",children:"Ma quanto ne sai?!"})]}),N.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8 hover-lift",children:[N.jsxs("div",{className:"text-center mb-6",children:[N.jsx(i,{className:"w-16 h-16 text-blue-600 mx-auto mb-4 animate-pulse-gentle"}),N.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Benvenuto al Quiz!"}),N.jsx("p",{className:"text-gray-600",children:"Metti alla prova la tua conoscenza dei termini giapponesi del karate"})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Il tuo nome:"}),!U&&g?N.jsxs("div",{className:"flex items-center justify-between bg-gray-100 px-4 py-3 rounded-lg",children:[N.jsx("span",{className:"font-medium text-gray-800",children:g}),N.jsx("button",{onClick:()=>_(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Cambia"})]}):N.jsxs("div",{className:"space-y-2",children:[N.jsx("input",{type:"text",value:g,onChange:e=>u(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Inserisci il tuo nome",maxLength:20}),U&&N.jsx("button",{onClick:()=>{_(!1),localStorage.setItem("karateQuizPlayerName",g)},disabled:!g.trim(),className:"text-sm text-gray-600 hover:text-gray-800",children:"Annulla"})]})]}),E&&N.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[N.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["Il tuo miglior punteggio: ",N.jsx("span",{className:"font-bold",children:E.score})]}),N.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[E.correctAnswers,"/15 risposte corrette â¢ Serie max: ",E.maxStreak]})]}),N.jsx("button",{onClick:V,disabled:!g.trim(),className:"w-full bg-onami-gradient text-white py-3 px-6 rounded-lg font-semibold hover:shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed transition-all transform hover:scale-105 disabled:hover:scale-100",children:E?"Riprova":"Inizia Quiz"})]}),N.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500 space-y-1",children:[N.jsx("p",{children:"ð 15 domande casuali"}),N.jsx("p",{children:"â±ï¸ 15 secondi per risposta"}),N.jsx("p",{children:"ð Punteggi bonus per velocitÃ  e serie"}),N.jsx("p",{children:"ð Classifica globale O-Nami"})]})]}),B&&N.jsxs("div",{className:"max-w-md mx-auto mt-6 bg-white rounded-2xl shadow-lg p-6",children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx(t,{className:"w-5 h-5 text-blue-600"}),"Statistiche O-Nami"]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[N.jsxs("div",{children:[N.jsx("div",{className:"text-2xl font-bold text-blue-600",children:B.total_players||0}),N.jsx("div",{className:"text-xs text-gray-600",children:"Karateka"})]}),N.jsxs("div",{children:[N.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.round(B.avg_score)||0}),N.jsx("div",{className:"text-xs text-gray-600",children:"Punteggio Medio"})]})]})]}),C.length>0&&N.jsxs("div",{className:"max-w-md mx-auto mt-6 bg-white rounded-2xl shadow-lg p-6",children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx(r,{className:"w-5 h-5 text-yellow-500"}),"Classifica Globale"]}),N.jsx("div",{className:"space-y-3",children:C.slice(0,5).map((e,a)=>N.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg hover:bg-gray-50",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold "+(0===a?"bg-yellow-500 text-white":1===a?"bg-gray-400 text-white":2===a?"bg-orange-600 text-white":"bg-gray-200 text-gray-700"),children:a+1}),N.jsx("span",{className:"text-gray-700 font-medium",children:e.name})]}),N.jsx("span",{className:"font-bold text-blue-600",children:e.score})]},a))})]})]})});if("playing"===a){const e=f[x];return N.jsx("div",{className:"min-h-screen bg-onami-light",children:N.jsxs("div",{className:"container mx-auto px-4 py-8",children:[N.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[N.jsxs("div",{className:"flex justify-between items-center mb-4",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(s,{className:"w-5 h-5 text-blue-600"}),N.jsx("span",{className:"font-semibold text-gray-800",children:g})]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("div",{className:"flex items-center gap-1",children:[N.jsx(o,{className:"w-5 h-5 text-yellow-500"}),N.jsx("span",{className:"font-bold text-gray-800",children:p})]}),M>=3&&N.jsxs("div",{className:"bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-sm font-semibold animate-pulse-gentle",children:["ð¥ ",M," di fila!"]})]})]}),N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("span",{className:"text-sm text-gray-600",children:["Domanda ",x+1," di 15"]}),N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(m,{className:"w-4 h-4 text-gray-600"}),N.jsxs("span",{className:"font-bold "+(k<=5?"text-red-500 animate-pulse":"text-gray-700"),children:[k,"s"]})]})]}),N.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mt-2 overflow-hidden",children:N.jsx("div",{className:"bg-onami-gradient h-3 rounded-full transition-all duration-300",style:{width:(x+1)/15*100+"%"}})})]}),N.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-lg p-8",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h2",{className:"text-sm text-gray-600 mb-4",children:"Cosa significa questo termine?"}),N.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-800 mb-4 font-mono japanese-wave",children:null==e?void 0:e.term})]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:null==e?void 0:e.options.map((a,n)=>{let i="w-full p-4 text-left border-2 rounded-xl transition-all duration-200 font-medium ";return w?a===e.correctAnswer?i+="border-green-500 bg-green-50 text-green-800 shadow-lg transform scale-105":a===v&&a!==e.correctAnswer?i+="border-red-500 bg-red-50 text-red-800":i+="border-gray-200 bg-gray-50 text-gray-500":i+="border-gray-200 hover:border-blue-400 hover:bg-blue-50 cursor-pointer hover-lift",N.jsx("button",{onClick:()=>!w&&Y(a),disabled:w,className:i,children:N.jsx("span",{children:a})},n)})}),w&&N.jsx("div",{className:"mt-6 p-4 rounded-xl text-center",children:v===e.correctAnswer?N.jsxs("div",{className:"text-green-700",children:[N.jsx("div",{className:"text-3xl mb-2",children:"ð Corretto!"}),k>10&&N.jsxs("p",{className:"text-sm",children:["Bonus velocitÃ : +",Math.floor(k/3)," punti"]}),M>=3&&N.jsxs("p",{className:"text-sm",children:["Bonus serie: +",2*M," punti"]})]}):N.jsxs("div",{className:"text-red-700",children:[N.jsx("div",{className:"text-3xl mb-2",children:"â Sbagliato!"}),N.jsxs("p",{className:"text-sm",children:["La risposta corretta era: ",N.jsx("strong",{children:e.correctAnswer})]})]})})]})]})})}if("finished"===a){const e=C.findIndex(e=>e.name===g&&e.score===p)+1,a=Math.round(O/15*100);return N.jsx("div",{className:"min-h-screen bg-onami-light",children:N.jsx("div",{className:"container mx-auto px-4 py-8",children:N.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl shadow-xl p-8 text-center",children:[L&&N.jsxs("div",{className:"mb-6",children:[N.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),N.jsx("p",{className:"mt-2 text-gray-600",children:"Salvando il punteggio..."})]}),N.jsxs("div",{className:"mb-6",children:[N.jsx(r,{className:"w-20 h-20 text-yellow-500 mx-auto mb-4 animate-pulse-gentle"}),N.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Quiz Completato!"}),N.jsxs("p",{className:"text-xl text-blue-600",children:["Complimenti ",g,"!"]})]}),N.jsxs("div",{className:"bg-onami-light rounded-2xl p-6 mb-6",children:[N.jsx("div",{className:"text-5xl font-bold text-blue-800 mb-2",children:p}),N.jsx("div",{className:"text-lg text-gray-600 mb-2",children:"punti totali"}),e>0&&N.jsxs("div",{className:"text-gray-600",children:["Posizione in classifica: ",N.jsxs("span",{className:"font-bold text-blue-600",children:["#",e]})]}),E&&E.score<p&&N.jsxs("div",{className:"mt-3 bg-green-100 text-green-700 px-4 py-2 rounded-lg font-semibold animate-pulse-gentle",children:["ð Nuovo record personale! (+",p-E.score," punti)"]}),E&&E.score>=p&&N.jsxs("div",{className:"mt-3 text-gray-600 text-sm",children:["Il tuo record personale: ",E.score," punti"]})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[N.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx(l,{className:"w-5 h-5 text-green-600"}),"Le tue statistiche"]}),N.jsxs("div",{className:"space-y-3 text-sm",children:[N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Risposte corrette:"}),N.jsxs("span",{className:"font-semibold text-green-600",children:[O,"/15"]})]}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Precisione:"}),N.jsxs("span",{className:"font-semibold",children:[a,"%"]})]}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Serie massima:"}),N.jsx("span",{className:"font-semibold text-orange-600",children:K})]}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("span",{children:"Tempo medio:"}),N.jsxs("span",{className:"font-semibold",children:[Math.round(D.duration/15e3),"s"]})]})]})]}),N.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[N.jsx(r,{className:"w-5 h-5 text-yellow-500"}),"Top 5 O-Nami"]}),N.jsx("div",{className:"space-y-2",children:C.slice(0,5).map((e,a)=>N.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg "+(e.name===g&&e.score===p?"bg-blue-100 border border-blue-300":"hover:bg-white"),children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold "+(0===a?"bg-yellow-500 text-white":1===a?"bg-gray-400 text-white":2===a?"bg-orange-600 text-white":"bg-gray-200 text-gray-700"),children:a+1}),N.jsx("span",{className:"font-medium",children:e.name})]}),N.jsx("span",{className:"font-bold text-blue-600",children:e.score})]},a))})]})]}),N.jsxs("div",{className:"flex gap-4 justify-center mb-8",children:[N.jsxs("button",{onClick:Z,className:"bg-onami-gradient text-white px-8 py-3 rounded-xl font-semibold hover:shadow-lg transition-all transform hover:scale-105 flex items-center gap-2",children:[N.jsx(c,{className:"w-5 h-5"}),"Gioca Ancora"]}),N.jsxs("button",{onClick:J,className:"bg-white border-2 border-blue-600 text-blue-600 px-8 py-3 rounded-xl font-semibold hover:bg-blue-50 transition-all flex items-center gap-2",children:[N.jsx(d,{className:"w-5 h-5"}),"Aggiorna Classifica"]})]}),N.jsxs("div",{className:"pt-6 border-t border-gray-200 text-center",children:[N.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[N.jsx("div",{className:"w-10 h-10 bg-onami-gradient rounded-full flex items-center justify-center",children:N.jsx("span",{className:"text-white font-bold japanese-wave",children:"æ³¢"})}),N.jsxs("div",{children:[N.jsx("p",{className:"text-lg font-bold text-blue-800",children:"O-Nami Karate Firenze"}),N.jsx("p",{className:"text-sm text-blue-600",children:'"Grandi Onde"'})]})]}),N.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Continua ad allenarti con noi!"}),N.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[N.jsx("p",{children:"ð§ onamikaratefirenze@gmail.com"}),N.jsx("p",{children:"ð +39 371 315 7112"}),N.jsx("div",{className:"flex justify-center gap-4 mt-2",children:N.jsx("span",{children:"ð¢ Campo di Marte â¢ Coverciano â¢ Mannelli"})})]})]})]})})})}return null};y.createRoot(document.getElementById("root")).render(N.jsx(n.StrictMode,{children:N.jsx(S,{})}));
